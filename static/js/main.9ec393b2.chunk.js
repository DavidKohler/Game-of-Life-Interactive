(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{196:function(e,t,a){e.exports=a(427)},201:function(e,t,a){},202:function(e,t,a){},423:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),l=a.n(o),i=(a(201),a(12)),c=a(13),u=a(11),s=a(15),d=a(14),m=(a(202),a(70)),h=a(192),v=a(43),f=(a(259),a(131)),b=a(193),p=a(132);function g(){var e=Object(f.a)(["\n  margin-top: -32px;\n  white-space: nowrap;\n  color: black;\n  font-size: 14px;\n  font-weight: bold;\n"]);return g=function(){return e},e}function C(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n"]);return C=function(){return e},e}function R(e){var t=e.value,a=e.dragging,r=e.index,o=Object(b.a)(e,["value","dragging","index"]);return n.a.createElement(y,Object.assign({key:r,value:t},o),a&&n.a.createElement(E,null,t))}var y=Object(p.a)(v.a)(C()),E=p.a.div(g()),w=a(445),k={1:"1",10:"10",20:"20",30:"30",40:"40",50:"50",60:"60",70:"70",80:"80"},O={1:"1",10:"10",20:"20",30:"30",40:"40",50:"50",60:"60"},j={1:"1",5:"5",10:"10",15:"15",20:"20",25:"25",30:"30",35:"35",40:"40"},S={0:"0/100",20:"20/80",40:"40/60",50:"50/50",60:"60/40",80:"80/20",100:"100/0"},P=a(133),B=(a(423),a(26)),F=a(134),L=a(190),N={width:800,margin:50},x=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleSubmit=function(){e.setState({drawerOpen:!1}),e.props.submitFunction(e.state)},e.toggleDrawer=function(t){return function(a){e.setState({drawerOpen:t})}},e.updateColumns=function(t){e.setState({cols:t})},e.updateRows=function(t){e.setState({rows:t})},e.updateFramerate=function(t){e.setState({framerate:t})},e.updateResolution=function(t){e.setState({resolution:t})},e.updateCellRatio=function(t){e.setState({alivePercentage:t})},e.handleCellColorUpdate=function(t){e.setState({cellColor:t.hex})},e.handleBackgroundColorUpdate=function(t){e.setState({backgroundColor:t.hex})},e.toggleBornButton=function(t,a){var r=e.state.bornRulePressed.slice(0);r[a]=!t,e.setState({bornRulePressed:r,birthRule:r.reduce((function(e,t,a){return t?e.concat(a):e}),[])})},e.toggleSurviveButton=function(t,a){var r=e.state.surviveRulePressed.slice(0);r[a]=!t,e.setState({surviveRulePressed:r,surviveRule:r.reduce((function(e,t,a){return t?e.concat(a):e}),[])})},e.state={cols:10,rows:10,framerate:10,resolution:10,cellColor:"#000000",backgroundColor:"#FFFFFF",drawerOpen:!1,bornRulePressed:[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1],surviveRulePressed:[!1,!1,!0,!0,!1,!1,!1,!1,!1,!1],birthRule:[3],surviveRule:[2,3],alivePercentage:50},e.updateColumns=e.updateColumns.bind(Object(u.a)(e)),e.updateRows=e.updateRows.bind(Object(u.a)(e)),e.updateFramerate=e.updateFramerate.bind(Object(u.a)(e)),e.updateResolution=e.updateResolution.bind(Object(u.a)(e)),e.handleCellColorUpdate=e.handleCellColorUpdate.bind(Object(u.a)(e)),e.handleBackgroundColorUpdate=e.handleBackgroundColorUpdate.bind(Object(u.a)(e)),e.toggleDrawer=e.toggleDrawer.bind(Object(u.a)(e)),e.toggleBornButton=e.toggleBornButton.bind(Object(u.a)(e)),e.toggleSurviveButton=e.toggleSurviveButton.bind(Object(u.a)(e)),e.updateCellRatio=e.updateCellRatio.bind(Object(u.a)(e)),e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){setTimeout((function(){var e=document.querySelector("body > div.MuiDrawer-root.MuiDrawer-modal > div.MuiPaper-root.MuiDrawer-paper.MuiDrawer-paperAnchorRight.MuiPaper-elevation16 > div.cell-color-picker > div > div:nth-child(2) > div:nth-child(1) > div:nth-child(2) > div:nth-child(2)"),t=document.querySelector("body > div.MuiDrawer-root.MuiDrawer-modal > div.MuiPaper-root.MuiDrawer-paper.MuiDrawer-paperAnchorRight.MuiPaper-elevation16 > div.cell-background-picker > div > div:nth-child(2) > div:nth-child(1) > div:nth-child(2) > div:nth-child(2)");null!==e&&e.parentNode.removeChild(e),null!==t&&t.parentNode.removeChild(t)}),0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.bornRulePressed,r=t.surviveRulePressed;return n.a.createElement("div",{className:"customizer-drawer"},n.a.createElement(n.a.Fragment,{key:"drawerOpen"},n.a.createElement(B.a,{onClick:this.toggleDrawer(!0)},"Customize"),n.a.createElement(w.a,{anchor:"right",open:this.state.drawerOpen,onClose:this.toggleDrawer(!1)},"Customization",n.a.createElement(L.a,{"aria-label":"Born Rule"},"Born Rule: B".concat(this.state.birthRule.map(String).join("")),n.a.createElement(F.a,{className:"mr-2","aria-label":"born group"},a.map((function(t,a){return n.a.createElement(B.a,{key:a,onClick:function(){return e.toggleBornButton(t,a)},variant:!0===t?"success":"outline-success"},a)}))),"Survive Rule: S".concat(this.state.surviveRule.map(String).join("")),n.a.createElement(F.a,{className:"mr-2","aria-label":"survive group"},r.map((function(t,a){return n.a.createElement(B.a,{key:a,onClick:function(){return e.toggleSurviveButton(t,a)},variant:!0===t?"success":"outline-success"},a)})))),n.a.createElement("div",{className:"column-slider",style:N},"Columns: ".concat(this.state.cols),n.a.createElement(v.b,{onChange:function(t){return e.updateColumns(t)},min:1,max:80,marks:k,defaultValue:this.state.cols,handle:R})),n.a.createElement("div",{className:"row-slider",style:N},"Rows: ".concat(this.state.rows),n.a.createElement(v.b,{onChange:function(t){return e.updateRows(t)},min:1,max:80,marks:k,defaultValue:this.state.rows,handle:R})),"RANDOM"===this.props.parentTab&&n.a.createElement("div",{className:"random-probabilities-slider",style:N},"Alive/Dead Cell Ratio",n.a.createElement(v.b,{onChange:function(t){return e.updateCellRatio(t)},min:0,max:100,marks:S,defaultValue:this.state.alivePercentage,handle:R})),n.a.createElement("div",{className:"framerate-slider",style:N},"Framerate: ".concat(this.state.framerate),n.a.createElement(v.b,{onChange:function(t){return e.updateFramerate(t)},min:1,max:60,marks:O,defaultValue:this.state.framerate,handle:R})),n.a.createElement("div",{className:"resolution-slider",style:N},"Resolution: ".concat(this.state.resolution),n.a.createElement(v.b,{onChange:function(t){return e.updateResolution(t)},min:1,max:40,marks:j,defaultValue:this.state.resolution,handle:R})),n.a.createElement("div",{className:"cell-color-picker"},"Cell Color: ".concat(this.state.cellColor),n.a.createElement(P.ChromePicker,{color:this.state.cellColor,onChange:this.handleCellColorUpdate})),n.a.createElement("div",{className:"cell-background-picker"},"Background Color: ".concat(this.state.backgroundColor),n.a.createElement(P.ChromePicker,{color:this.state.backgroundColor,onChange:this.handleBackgroundColorUpdate})),n.a.createElement(B.a,{onClick:this.handleSubmit},"Submit"))))}}]),a}(r.Component),A=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"Home Page!",n.a.createElement(x,{parentTab:"HOME"}))}}]),a}(r.Component),M=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"Draw Grid Page!")}}]),a}(r.Component),D=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"RLE Page!")}}]),a}(r.Component),G=a(191),T=a.n(G),V=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).countNeighbors=function(e,t,a,r,n){for(var o=0,l=t-1;l<t+2;l++)for(var i=a-1;i<a+2;i++)l>=0&&l<r&&i>=0&&i<n&&(o+=e[l][i]);return o-=e[t][a]},e.createGrid=function(e,t){for(var a=new Array(e),r=0;r<a.length;r++)a[r]=new Array(t);return a},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this,r=this.props,n=r.cols,o=r.rows,l=r.framerate,i=r.resolution,c=r.birthRule,u=r.surviveRule,s=r.backgroundColor,d=r.cellColor,m=this.props.grid,h=!1;this.sketch=new T.a((function(r){function v(){h?(r.noLoop(),e.html("Play")):(r.loop(),e.html("Pause")),h=!h}function f(){r.draw()}r.setup=function(){var c=n*i,u=o*i;r.createCanvas(c,u).parent(a.props.refLoc.current),r.frameRate(l),(e=r.createButton("Play")).mousePressed(v),e.style("color","#fff"),e.style("background-color","#007bff"),e.style("border-color","#007bff"),e.style("font-weight","400"),e.style("border","1px solid transparent"),e.style("padding",".375rem .75rem"),e.style("font-size","1rem"),e.style("line-height","1.5"),e.style("border-radius",".25rem"),e.position(50,50),(t=r.createButton("Next")).mousePressed(f),t.style("color","#fff"),t.style("background-color","#007bff"),t.style("border-color","#007bff"),t.style("font-weight","400"),t.style("border","1px solid transparent"),t.style("padding",".375rem .75rem"),t.style("font-size","1rem"),t.style("line-height","1.5"),t.style("border-radius",".25rem"),t.position(100,100),r.noLoop()},r.draw=function(){r.background(s);for(var e=0;e<o;e++)for(var t=0;t<n;t++){var l=t*i,h=e*i;1===m[e][t]&&(r.fill(d),r.stroke(s),r.rect(l,h,i-1,i-1))}for(var v=a.createGrid(o,n),f=0;f<o;f++)for(var b=0;b<n;b++){var p=m[f][b],g=a.countNeighbors(m,f,b,o,n);1===p?u.includes(g)?v[f][b]=1:v[f][b]=0:c.includes(g)?v[f][b]=1:v[f][b]=0}m=v}}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"CellularAutomatonSketch"},n.a.createElement("div",{ref:this.props.refLoc}))}}]),a}(r.Component);function U(e,t,a){var r=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+t}))})),a=e.reduce((function(e,t){return e.map((function(e,a){return t[a]+e}))})),r=t.findIndex((function(e){return e>0})),n=t.length-1-t.slice().reverse().findIndex((function(e){return e>0})),o=a.findIndex((function(e){return e>0})),l=a.length-1-a.slice().reverse().findIndex((function(e){return e>0}));return{top:r,bot:n,minCol:o,maxCol:l}}(e),n=r.top,o=r.bot,l=r.minCol,i=r.maxCol,c=[];c.push("x = ".concat(i-l+1,", y = ").concat(o-n+1,", rule = B").concat(t.map(String).join(""),"/S").concat(a.map(String).join("")));for(var u=function(e,t,a,r,n){for(var o=[],l=t;l<a+1;l++){for(var i="",c=r;c<n+1;c++){var u=e[l][c];i=1===u?i.concat("o"):i.concat("b")}z(i).forEach((function(e){o.push(e)})),l!==a?o.push(["$",1]):o.push(["!",1])}var s=!0;for(;!0===s;){s=!1;for(var d=[],m=0;m<o.length;m++)m<o.length-1&&(["$","!"].includes(o[m+1][0])&&"b"===o[m][0]&&d.push(m),o[m][0]===o[m+1][0]&&(o[m+1]=[o[m][0],o[m][1]+o[m+1][1]],d.push(m)));if(d.length>0)for(s=!0,d.sort((function(e,t){return e-t}));d.length;)o.splice(d.pop(),1)}return o}(e,n,o,l,i),s=!1,d=0,m="";!1===s;)1===u[d][1]?1+m.length>70?(c.push(m),m=u[d][0]):m=m.concat(u[d][0]):u[d][1].toString().length+(m.length+1)>70?(c.push(m),m=u[d][1].toString().concat(u[d][0])):m=m.concat(u[d][1].toString().concat(u[d][0])),d===u.length-1?(c.push(m),s=!0):d++;return c}function z(e){return(e.match(/([a-zA-Z])\1*/g)||[]).map((function(e){return[e.charAt(0),e.length]}))}var H=a(59),I=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleClose=function(){e.setState({showModal:!1})},e.handleShow=function(){var t=U(e.props.grid,e.props.bRule,e.props.sRule);e.setState({showModal:!0,savedRLE:t.join("\n")})},e.downloadRLEFile=function(){var t=e.state.savedRLE,a=new Blob([t],{type:".rle"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,"savedRLE.rle");else{var r=document.createElement("a"),n=URL.createObjectURL(a);r.href=n,r.download="savedRLE.rle",document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(n)}),0)}},e.state={showModal:!1,savedRLE:""},e.handleClose=e.handleClose.bind(Object(u.a)(e)),e.handleShow=e.handleShow.bind(Object(u.a)(e)),e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(B.a,{variant:"primary",onClick:this.handleShow},"View RLE File"),n.a.createElement(H.a,{show:this.state.showModal,onHide:this.handleClose},n.a.createElement(H.a.Header,{closeButton:!0},n.a.createElement(H.a.Title,null,"RLE File")),n.a.createElement(H.a.Body,null,this.state.savedRLE),n.a.createElement(H.a.Footer,null,n.a.createElement(B.a,{variant:"secondary",onClick:this.handleClose},"Close"),n.a.createElement(B.a,{variant:"primary",onClick:this.downloadRLEFile},"Download RLE File"))))}}]),a}(r.Component),K=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).createGrid=function(e,t,a){for(var r=new Array(e),n=0;n<r.length;n++)r[n]=new Array(t);for(var o=Array(100).fill(1).fill(0,a),l=0;l<e;l++)for(var i=0;i<t;i++)r[l][i]=o[Math.floor(100*Math.random())];return r},e.updateParameters=function(t){e.resetAutomata(),setTimeout((function(){e.setState({alivePercentage:t.alivePercentage,backgroundColor:t.backgroundColor,birthRule:t.birthRule,cellColor:t.cellColor,cols:t.cols,framerate:t.framerate,gridRows:t.rows,resolution:t.resolution,surviveRule:t.surviveRule},(function(){return e.generateGrid()}))}),0)},e.state={alivePercentage:50,backgroundColor:"#FFFFFF",birthRule:[3],cellColor:"#000000",cols:10,framerate:5,gridRows:10,myGrid:[],refreshVal:0,resolution:20,surviveRule:[2,3]},e.renderRef=n.a.createRef(),e.resetAutomata=e.resetAutomata.bind(Object(u.a)(e)),e.generateGrid=e.generateGrid.bind(Object(u.a)(e)),e.saveRLE=e.saveRLE.bind(Object(u.a)(e)),e.updateParameters=e.updateParameters.bind(Object(u.a)(e)),e}return Object(c.a)(a,[{key:"resetAutomata",value:function(){this.setState((function(e){return{refreshVal:e.refreshVal+1}}))}},{key:"generateGrid",value:function(){var e=this.state,t=e.cols,a=e.gridRows,r=e.alivePercentage,n=this.createGrid(a,t,r);this.state.myGrid.length>0&&this.resetAutomata(),this.setState({myGrid:n})}},{key:"saveRLE",value:function(){var e=this.state,t=e.birthRule,a=U(e.myGrid,t,e.surviveRule);console.log(a)}},{key:"render",value:function(){var e=this.state,t=e.backgroundColor,a=e.birthRule,r=e.cellColor,o=e.cols,l=e.framerate,i=e.gridRows,c=e.myGrid,u=e.resolution,s=e.surviveRule,d=c.length>0;return n.a.createElement("div",{className:"random-page"},"Random Grid Page!",n.a.createElement("div",{className:"customization-container"},n.a.createElement(x,{parentTab:"RANDOM",submitFunction:this.updateParameters})),n.a.createElement("div",{className:"generate-grid-container"},n.a.createElement(B.a,{onClick:this.generateGrid},"Create Random Grid")),d&&n.a.createElement("div",{className:"sketch-container"},n.a.createElement(V,{backgroundColor:t,birthRule:a,cellColor:r,cols:o,framerate:l,grid:c,key:this.state.refreshVal,refLoc:this.renderRef,resolution:u,rows:i,surviveRule:s})),d&&n.a.createElement("div",{className:"reset-button-container"},n.a.createElement(B.a,{onClick:this.resetAutomata},"Reset")),d&&n.a.createElement("div",{className:"save-rle-container"},n.a.createElement(I,{grid:this.state.myGrid,bRule:this.state.birthRule,sRule:this.state.surviveRule})))}}]),a}(r.Component),q=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={refreshTabVal:0},e.resetTab=e.resetTab.bind(Object(u.a)(e)),e}return Object(c.a)(a,[{key:"resetTab",value:function(){var e=this;setTimeout((function(){var t=document.querySelectorAll("body > button");if(t.length>0){for(var a=0;a<t.length;a++)t[a].parentNode.removeChild(t[a]);e.setState((function(e){return{refreshTabVal:e.refreshTabVal+1}}))}}),0)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement(h.a,{defaultActiveKey:"home",id:"main-tab-group",onSelect:function(){return e.resetTab()}},n.a.createElement(m.a,{eventKey:"home",title:"Home"},n.a.createElement(A,null)),n.a.createElement(m.a,{eventKey:"draw",title:"Draw Grid"},n.a.createElement(M,null)),n.a.createElement(m.a,{eventKey:"loadrle",title:"Load RLE"},n.a.createElement(D,null)),n.a.createElement(m.a,{eventKey:"random",title:"Random Grid"},n.a.createElement(K,{key:this.state.refreshTabVal}))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[196,1,2]]]);
//# sourceMappingURL=main.9ec393b2.chunk.js.map